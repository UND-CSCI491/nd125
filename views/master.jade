mixin AddStory(story, active)
    li
        a(href="/stories/#{story.slug}", style="#{active ? 'font-weight: bold;' : ''}")= story.title

doctype html
html(lang="en")
    head
        meta(charset="utf-8")
        meta(name="viewport", content="width=device-width, initial-scale=1")
        title!= title
        link(href="/css/bootstrap.min.css", rel="stylesheet")
        link(href="/css/bootstrap-theme.min.css", rel="stylesheet")
        link(href="/css/master.css", rel="stylesheet")
        block css
    body
        nav(class="navbar navbar-inverse navbar-fixed-top")
            div(class="container")
                div(class="navbar-header")
                    button(type="button", class="navbar-toggle collapsed", data-toggle="collapse", data-target=".navbar-collapse")
                        span(class="icon-bar")
                        span(class="icon-bar")
                        span(class="icon-bar")
                    a(class="navbar-brand", href="/") nd@125
                div(class="collapse navbar-collapse")
                    ul(class="nav navbar-nav")
                        li(class="dropdown")
                            a(href="#", class="dropdown-toggle", data-toggle="dropdown") Stories
                                span(class="caret")
                            ul(class="dropdown-menu")
                                - for (var i = 0, n = stories.length; i < n; i++)
                                    +AddStory(stories[i], index >= 0 ? index === i ? 1 : 0 : 0)
                        block navitem
                    ul(class="nav navbar-nav navbar-right")
                        - if (index >= 0 && index > 0)
                            li
                                a(href="#{stories[index-1].slug}") Previous Story
                        - else if (index >= 0)
                            li
                                a(href="/#", class="disabled") Previous Story
                        - if (index >= 0 && index < stories.length-1)
                            li
                                a(href="#{stories[index+1].slug}") Next Story
                        - else if (index >= 0)
                            li
                                a(href="/#", class="disabled") Next Story
        block body
        main(class="container")
            block main
        script(src="/js/jquery.min.js")
        script(src="/js/bootstrap.min.js")
        script(src="/js/master.js")
        block js
